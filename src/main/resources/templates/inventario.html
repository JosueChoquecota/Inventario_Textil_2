<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Proveedores</title>

        <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
        <link
            href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
            rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
        <link th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet">

    </head>
       <body id="page-top">
           <div id="wrapper">
                <div th:replace="fragments/sidebar :: sidebar"></div>

                <div id="content-wrapper" class="d-flex flex-column">
                  <div id="content">
                    <div th:replace="fragments/topbar :: topbar"></div>

                    <div class="container-fluid">
                      <h1 class="h3 mb-4 text-gray-800">
                        <i class="fas fa-fw fa-box"></i> Inventario
                      </h1>

                      <!-- ================== FORMULARIO ================== -->
                      <div class="card shadow mb-4">
                        <div class="card-body">
                          <form id="inventarioForm">
                            <!-- 🟣 SECCIÓN MARCA -->
                            <div class="card mb-4">
                              <div class="card-header bg-light">
                                <h5 class="mb-0">Datos de la Marca</h5>
                              </div>
                              <div class="card-body">
                                <div class="row">
                                  <div class="col-md-3">
                                    <label>Nombre de Marca</label>
                                    <input type="text" class="form-control" id="nombreMarca" placeholder="Ej: Nike" />
                                  </div>
                                  <div class="col-md-3">
                                    <label>Logo</label>
                                    <input type="file" class="form-control-file" id="logoFile" />
                                  </div>
                                  <div class="col-md-3">
                                    <label>Descripción</label>
                                    <input type="text" class="form-control" id="descLogo" placeholder="Ej: Marca deportiva" />
                                  </div>
                                  <div class="col-md-3">
                                    <label class="text-white">.</label>
                                    <button type="button" class="btn btn-secondary form-control" id="guardarMarcaBtn">
                                      Guardar Marca
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <!-- 🟢 SECCIÓN CATEGORÍA -->
                            <div class="card mb-4">
                              <div class="card-header bg-light">
                                <h5 class="mb-0">Datos de la Categoría</h5>
                              </div>
                              <div class="card-body">
                                <div class="row">
                                  <div class="col-md-3">
                                    <label>Nombre de Categoría</label>
                                    <input type="text" class="form-control" id="nombreCategoria" placeholder="Ej: Polo" />
                                  </div>
                                  <div class="col-md-3">
                                    <label>Descripción</label>
                                    <input type="text" class="form-control" id="descCategoria" placeholder="Ej: Ropa casual" />
                                  </div>
                                  <div class="col-md-3">

                                  </div>
                                  <div class="col-md-3">
                                    <label class="text-white">.</label>
                                    <button type="button" class="btn btn-secondary form-control" id="guardarCategoriaBtn">
                                      Guardar Categoría
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <!-- 🔵 SECCIÓN PRODUCTO -->
                            <div class="card mb-4">
                              <div class="card-header bg-light">
                                <h5 class="mb-0">Datos del Producto</h5>
                              </div>
                              <div class="card-body">
                                <div class="row">
                                  <div class="col-md-3">
                                    <label>Producto / Modelo</label>
                                    <input type="text" class="form-control" id="productoModelo" placeholder="Ej: Polo clásico" />
                                  </div>
                                  <div class="col-md-3">
                                    <label>Imagen</label>
                                    <input type="file" class="form-control-file" id="imagenFile" />
                                  </div>
                                  <div class="col-md-3">
                                    <label>Marca</label>
                                    <select id="marcaSelect" class="form-control selectpicker" data-live-search="true"></select>
                                  </div>
                                  <div class="col-md-3">
                                    <label>Categoría</label>
                                    <select id="categoriaSelect" class="form-control selectpicker" data-live-search="true"></select>
                                  </div>
                                </div>
                                <div class="row mt-3">
                                  <div class="col-md-9"></div>
                                  <div class="col-md-3">
                                    <button type="submit" class="btn btn-primary form-control">Guardar Producto</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>

                      <!-- ================== TABLA ================== -->
                      <div class="card shadow mb-4">
                        <div class="card-header bg-light d-flex justify-content-between align-items-center">
                          <h5 class="mb-0">Lista de Productos</h5>
                          <button id="btnActualizarTabla" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-sync-alt"></i> Actualizar
                          </button>
                        </div>
                        <div class="card-body">
                          <div class="table-responsive">
                            <table class="table table-bordered table-hover">
                              <thead class="thead-light text-center">
                                <tr>
                                  <th>ID</th>
                                  <th>Producto</th>
                                  <th>Imagen</th>
                                  <th>Categoría</th>
                                  <th>Marca</th>
                                  <th>Acciones</th>
                                </tr>
                              </thead>
                              <tbody id="productosBody"></tbody>
                            </table>
                          </div>
                        </div>
                      </div>

                      <!-- ================== MODAL EDITAR ================== -->
                      <div class="modal fade" id="editarProductoModal" tabindex="-1" role="dialog">
                        <div class="modal-dialog modal-lg" role="document">
                          <div class="modal-content">
                            <form id="editarProductoForm" enctype="multipart/form-data">
                              <div class="modal-body">
                                <input type="hidden" id="editIdProducto" />

                                <div class="form-group">
                                  <label>Nombre</label>
                                  <input type="text" id="editNombreProducto" class="form-control" required />
                                </div>

                                <div class="form-row">
                                  <div class="form-group col-md-6">
                                    <label>Marca</label>
                                    <select id="editMarcaSelect" class="form-control selectpicker" data-live-search="true"></select>
                                  </div>
                                  <div class="form-group col-md-6">
                                    <label>Categoría</label>
                                    <select id="editCategoriaSelect" class="form-control selectpicker" data-live-search="true"></select>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <label>Imagen</label>
                                  <input type="file" id="editImagenProducto" class="form-control-file" />
                                </div>

                                <div class="modal-footer">
                                  <button type="submit" class="btn btn-primary">Actualizar</button>
                                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>

            <!-- ✅ SCRIPTS -->
            <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
            <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
            <script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>
            <script th:src="@{/js/sb-admin-2.min.js}"></script>
            <script th:src="@{/js/inventario.js}"></script>    
            <style>
                .img-fija {
                  width: 60px;
                  height: 60px;
                  object-fit: cover;
                  border-radius: 6px; /* opcional */
                }
              </style>

          </body>


    
    
    <script>
        // Inicializa todos los selectpickers de la página
        $(function () {
            $('.selectpicker').selectpicker();
        });
    </script>
</html>